<!DOCTYPE html>
    <html lang="zh-cn">
    <head>
    <meta charset="utf-8"/>
    <title>
    <meta name="authors" content="" />p4 view mapping及其特殊字符</title></head><body>From:<a href=http://www.cnblogs.com/itech/archive/2013/04/09/3009592.html#FeedBack>http://www.cnblogs.com/itech/archive/2013/04/09/3009592.html#FeedBack</a><br><br><div><p><br class="Apple-interchange-newline">p4 view mapping&#21450;&#20854;&#29305;&#27530;&#23383;&#31526;</p>&#13;
<p>&#160;</p>&#13;
<p>p4&#160;&#20013;&#19977;&#31181;view&#160;&#65306;client views, branch views, and label views.</p>&#13;
<p>&#160;</p>&#13;
<p>&#27880;&#24847;&#65306;</p>&#13;
<p>1&#65289;&#22914;&#26524;view&#20013;&#23545;&#21516;&#19968;&#20010;&#25991;&#20214;&#26377;&#22810;&#27425;mapping&#65292;&#21017;&#21518;&#38754;&#30340;&#35206;&#30422;&#21069;&#38754;&#30340;mapping&#12290;</p>&#13;
<p>2&#65289;&#20197;-&#24320;&#22987;&#30340;mapping&#65292;&#29992;&#26469;&#25490;&#38500;&#25991;&#20214;&#30340;mapping&#65292;&#19968;&#33324;&#29992;&#26469;&#25490;&#38500;&#19968;&#20123;&#30446;&#24405;&#19979;&#30340;&#26576;&#20123;&#23376;&#30446;&#24405;&#25110;&#25991;&#20214;&#12290;</p>&#13;
<p>3&#65289;&#22312;client views&#20013;&#21487;&#20197;&#22312;mapping&#30340;&#26368;&#21069;&#38754;&#26377;+&#65292;&#34920;&#31034;&#21472;&#21152;&#30340;&#25928;&#26524;&#65292;&#19981;&#21516;&#20110;&#19968;&#33324;&#30340;&#35206;&#30422;&#12290;</p>&#13;
<p>&#160;</p>&#13;
<p>&#25991;&#20214;&#25110;&#36335;&#24452;&#20013;&#30340;&#31354;&#26684;&#65306;</p>&#13;
<p>//depot/v1/... "//ws/version one/..."</p>&#13;
<p>&#8220;//depot/document 2/..." //ws/document2/...</p>&#13;
<p>&#8220;-//depot/document 2/file2" //ws/document2/file2</p>&#13;
<p>&#160;</p>&#13;
<p>&#25991;&#20214;&#25110;&#36335;&#24452;&#20013;&#30340;&#20854;&#20182;&#29305;&#27530;&#23383;&#31526;&#65306;&#160;</p>&#13;
&#13;
&#13;
&#13;
&#13;
<p><strong>Character</strong></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p><strong>ASCII&#160;</strong><strong>expansion</strong></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>@</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>%40</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>#</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>%23</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>*</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>%2A</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>%</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>%25</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>&#160;</p>&#13;
<p>&#160;</p>&#13;
<p>client view&#23454;&#20363;&#65306;&#160;</p>&#13;
<p>&#160;</p>&#13;
&#13;
&#13;
&#13;
&#13;
<p><strong>Client View</strong></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p><strong>Sample Mapping</strong></p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Full client workspace&#160;mapped to entire depot</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/... //ws/...</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Full client workspace&#160;mapped to part of depot</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir/... //ws/...</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Some files in the depot aremapped to a different part of the client workspace</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/... //ws/...<br>//depot/rel1/... //ws/release1/...</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Some files in the depot areexcluded from the client workspace</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir/... //ws/...<br>-//depot/dir/exclude/... //ws/dir/exclude/...</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Files in the client&#160;workspace are mapped to different names than their depot names.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir/old.* //ws/renamed/new.*</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>Portions of filenames in&#160;the depot are rearranged in the client workspace</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir/%%1.%%2 //ws/dir/%%2.%%1</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>The files do not map the&#160;same way in each direction. The second line takes precedence, and the first line is ignored.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir1/... //ws/build/...<br>//depot/dir2/... //ws/build/...</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>An overlay mapping is&#160;used to map files from more than one depot directory into the same place in the workspace.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<p>//depot/dir1/... //ws/build/...<br>+//depot/dir2/... //ws/build/..</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<a></a><span><a></a><span><a name="1047452"></a> The Perforce system allows the use of three wildcards:</span></span>&#160;&#13;
&#13;
&#13;
&#13;
<a></a><span><a></a><span><a name="1047434"></a> Wildcard</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047436"></a> Meaning</span></span>&#13;
&#13;
&#13;
&#13;
<a name="1047438"></a>*&#13;
&#13;
<a></a><span><a></a><span><a name="1047441"></a> Matches all characters except slashes within one directory.</span></span>&#13;
&#13;
&#13;
&#13;
<a></a><span><a></a><span><a name="1047443"></a> ...</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047446"></a> Matches all files under the current working directory and all subdirectories. (matches anything, including slashes, and does so across subdirectories)</span></span>&#13;
&#13;
&#13;
&#13;
<a></a><span><a></a><span><a name="1047448"></a> %%1 - %%9</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047451"></a> Positional specifiers for substring rearrangement in filenames, when used in views.</span></span>&#13;
&#13;
&#13;
&#13;
&#160;&#13;
&#13;
&#13;
&#13;
<a></a><span><a></a><span><a name="1047462"></a> Expression</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047464"></a> Matches</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047466"></a> J*</span></span>&#13;
&#13;
<a></a><p class="Literal">J</p><span><a></a><span><a name="1047468"></a> Files in the current directory starting with</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047470"></a> */help</span></span>&#13;
&#13;
<a></a><p class="Literal">help</p> in current subdirectories<span><a></a><span><a name="1047472"></a> All files calledin current subdirectories</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047474"></a> ./...</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047476"></a> All files under the current directory and its subdirectories</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047478"></a> ./....c</span></span>&#13;
&#13;
<a></a><p class="Literal">.c</p><span><a></a><span><a name="1047480"></a> All files under the current directory and its subdirectories, that end in</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047482"></a> /usr/bruno/...</span></span>&#13;
&#13;
<a></a><p class="Literal">/usr/bruno</p><span><a></a><span><a name="1047484"></a> All files under</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047486"></a> //bruno_ws/...</span></span>&#13;
&#13;
<a></a><p class="Literal">bruno_ws</p><span><a></a><span><a name="1047488"></a> All files in the workspace or depot that is named</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047490"></a> //depot/...</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047492"></a> All files in the depot</span></span>&#13;
&#13;
&#13;
&#13;
<span><a></a><span><a name="1047494"></a> //...</span></span>&#13;
&#13;
<a></a><span><a></a><span><a name="1047496"></a> All files in all depots</span></span>&#13;
&#13;
&#13;
</div></body></html>