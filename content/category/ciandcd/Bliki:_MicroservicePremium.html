<!DOCTYPE html>
    <html lang="zh-cn">
    <head>
    <meta charset="utf-8"/>
    <title>
    Bliki: MicroservicePremium</title></head><body><div> 

 

 

<p class="tagLabel">tags:</p>

<p class="clear"></p>

<p>The <a href="/articles/microservices.html">microservices
  architectural style</a> has been the hot topic over the last year.
  At the recent <a href="http://softwarearchitecturecon.com/sa2015">O'Reilly software
  architecture conference</a>, it seemed like every session talked
  about microservices. Enough to get everyone's over-hyped-bullshit
  detector up and flashing. One of the consequences of this is that
  we've seen teams be too eager to embrace microservices, <a href="#footnote-envy">[1]</a> not
  realizing that microservices introduce complexity on their own
  account. This adds a premium to a project's cost and risk - one that
  often gets projects into serious trouble. </p>

<p>While this hype around microservices is annoying, I do think it's a
  useful bit of terminology for a style of architecture which has been
  around for a while, but needed a name to make it easier to talk
  about. The important thing here is not how annoyed you feel about the
  hype, but the architectural question it raises: <b>is a microservice
  architecture a good choice for the system
  you're working on?</b></p>

<blockquote class="twitter-tweet" lang="en">
    any decent answer to an interesting question begins, "it depends..."
  <a href="https://twitter.com/KentBeck/status/596007846887628801">-- Kent Beck</a></blockquote>
<p>"It depends" must start my answer, but then I must shift the
  focus to what factors it depends <i>on</i>. The fulcrum of whether
  or not to use microservices is the complexity of the system you're
  contemplating. The microservices approach is all about handling a
  complex system, but in order to do so the approach introduces its
  own set of complexities. When you use microservices you have to work
  on automated deployment, monitoring, dealing with failure, eventual
  consistency, and other factors that a distributed system introduces.
  There are well-known ways to cope with all this, but it's extra
  effort, and nobody I know in software development seems to have
  acres of free time.</p>
<img src="images/microservice-verdict/productivity.png">
<p>So my primary guideline would be <b>don't even consider
  microservices unless you have a system that's too complex to manage
  as a monolith</b>. The majority of software systems should be built
  as a single monolithic application. Do pay attention to good
  modularity within that monolith, but don't try to separate it into
  separate services.</p>

<p>The complexity that drives us to microservices can come from many
  sources including
  dealing with large teams <a href="#footnote-conway">[2]</a>, <a href="http://samnewman.io/blog/2015/05/05/single-tenancy-vs-multi-tenancy/">multi-tenancy</a>,
  supporting many
  user interaction models, allowing different business functions to
  evolve independently, and scaling. But the biggest factor
  is that of sheer size - people finding they have a monolith that's too big
  to modify and deploy.</p>

<p>At this point I feel a certain frustration. Many of the problems
  ascribed to monoliths aren't essential to that style. I've heard people say that
  you need to use microservices because it's impossible to do
  <a href="ContinuousDelivery.html">ContinuousDelivery</a> with monoliths - yet there are plenty of
  organizations that succeed with a <a href="http://paulhammant.com/2011/11/29/cookie-cutter-scaling/">cookie-cutter
  deployment</a> approach: Facebook and Etsy are two well-known
  examples.</p>

<p>I've also heard arguments that say that as a system increases in
  size, you have to use microservices in order to have parts that are
  easy to modify and replace. Yet there's no reason why you can't make
  a single monolith with well defined module boundaries. At least
  there's no reason <i>in theory</i>, in practice it seems too easy for
  module boundaries to be breached and monoliths to get tangled as
  well as large.</p>

<p>We should also remember that there's a substantial variation in
  service-size between different microservice systems. I've seen
  microservice systems vary from a team of 60 with 20 services to a
  team of 4 with 200 services. It's not clear to what degree service
  size affects the premium.</p>

<p>As size and other complexity boosters kick into a project I've
  seen many teams find that microservices are a better place to be.
  But unless you're faced with that complexity, remember that the
  microservices approach brings a high premium, one that can slow down
  your development considerably. So if you can keep your system simple
  enough to avoid the need for microservices: do.</p>

 

<p class="acknowledgements">
<h2>Acknowledgements</h2>

    I stole much of this thinking from my colleagues: James Lewis, Sam
    Newman, Thiyagu Palanisamy, and Evan Bottcher. Stefan Tilkov's
    comments on an earlier draft were instrumental in sharpening this post. Rob
    Miles, David Nelson, Brian Mason, and Scott Robinson discussed
    drafts of this article on our internal mailing list.
  </p>

<p class="shares">Share: <a href="https://twitter.com/intent/tweet?url=http://martinfowler.com/bliki/MicroservicePremium.html&amp;text=Bliki:%20MicroservicePremium" title="Share on Twitter"><img src="/t_mini-a.png"></a><a href="https://facebook.com/sharer.php?u=http://martinfowler.com/bliki/MicroservicePremium.html" title="Share on Facebook"><img src="/fb-icon-20.png"></a><a href="https://plus.google.com/share?url=http://martinfowler.com/bliki/MicroservicePremium.html" title="Share on Google Plus"><img src="/gplus-16.png"></a></p>
</div></body></html>