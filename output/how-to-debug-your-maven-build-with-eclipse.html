<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>
    How to Debug Your Maven Build with Eclipse - ciandcd</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="http://www.ciandcd.com/theme/css/bootstrap.css" rel="stylesheet" type="text/css"/>
  <link href="http://www.ciandcd.com/theme/css/main.css" rel="stylesheet" type="text/css"/>
  <link href="http://www.ciandcd.com/theme/css/pygment.css" rel="stylesheet" type="text/css"/>
  <link href="http://fonts.googleapis.com/css?family=Chelsea+Market" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" type="text/css" href="http://www.ciandcd.com/theme/tipuesearch/tipuesearch.css" media="screen">
<link href="http://www.ciandcd.com/feeds/rss.xml" rel="alternate" type="application/atom+xml" title="ciandcd RSS" />


  <!--[if lt IE 9]>
    <script src="https://raw.github.com/aFarkas/html5shiv/master/dist/html5shiv.js"></script>
  <![endif]-->
</head>

<!--
bootstrap-itech - a Pelican theme using Bootstrap
-->
<body>

<!-- Header -->
<header>
<div class="container-fluid">
<h1 class="page-header"><a href="http://www.ciandcd.com/index.html">ciandcd </a>
<h4>软件持续集成和持续发布 QQ群：172758282，437085002</h4></h1>
</div>
</header>
<!-- /Header -->

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.ciandcd.com/index.html"></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

  <li><a href="http://www.ciandcd.com/index.html">首页</a></li>

  <li ><a href="http://www.ciandcd.com/category/ciandcd.html">ciandcd</a></li>
  <li class="active"><a href="http://www.ciandcd.com/category/devops.html">devops</a></li>
  <li ><a href="http://www.ciandcd.com/category/scm.html">scm</a></li>
  <li ><a href="http://www.ciandcd.com/category/zhong-wen.html">中文</a></li>

  
    <li ><a href="http://www.ciandcd.com/pages/guan-yu.html">关于</a></li>
    <li ><a href="http://www.ciandcd.com/pages/awesome.html">Awesome</a></li>


</ul>
      <form class="navbar-form navbar-left navbar-search" role="search" action="http://www.ciandcd.com/search.html onsubmit="return validateForm(this.elements['q'].value);">
        <div class="form-group search-query">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input">
        </div>
      </form>

      <ul class="nav navbar-nav navbar-right">
        <li><a href="http://www.cnblogs.com/itech">itech</a></li>
        <li><a href="https://github.com/ciandcd">Github</a></li>
      </ul>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<!-- Body -->
<section id="body">
<div class="container-fluid">

<!-- Nav bar -->
<!-- /Nav bar -->

<!-- Main block -->
<div class="row">

<!-- Content -->
<div class="col-lg-9">
<article>
<h2>
    How to Debug Your Maven Build with Eclipse</h2>
From:<a href="http://java.dzone.com/articles/how-debug-your-maven-build">http://java.dzone.com/articles/how-debug-your-maven-build</a><br><br><div><p class="print-link"></p><p>When running a Maven build with many plugins (e.g. the&#160;<a href="http://blog.jooq.org/2014/06/25/flyway-and-jooq-for-unbeatable-sql-development-productivity/">jOOQ or Flyway plugins</a>), you may want to have a closer look under the hood to see what&#8217;s going on internally in those plugins, or in your extensions of those plugins. This may not appear obvious when you&#8217;re running Maven from the command line, e.g. via:</p>


<pre class="shell">C:\Users\jOOQ\workspace&gt;mvn clean install
</pre>

<p>Luckily, it is rather easy to debug Maven. In order to do so, just create the following batch file on Windows:</p>


<pre class="shell">@ECHO OFF

IF "%1" == "off" (
    SET MAVEN_OPTS=
) ELSE (
    SET MAVEN_OPTS=-Xdebug -Xnoagent -Djava.compile=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005
)
</pre>

<p>Of course, you can do the same also on a MacOS X or Linux box, by using<code>export</code>&#160;intead of&#160;<code>SET</code>.</p>

<p>Now, run the above batch file and proceed again with building:</p>


<pre class="shell">C:\Users\jOOQ\workspace&gt;mvn_debug

C:\Users\jOOQ\workspace&gt;mvn clean install
Listening for transport dt_socket at address: 5005
</pre>

<p>Your Maven build will now wait for a debugger client to connect to your JVM on port 5005 (change to any other suitable port). We&#8217;ll do that now with Eclipse. Just add a new Remote Java Application that connects on a socket, and hit &#8220;Debug&#8221;:</p>

<p><a href="https://lukaseder.files.wordpress.com/2015/06/port-5005.png"><img src="https://lukaseder.files.wordpress.com/2015/06/port-5005.png?w=479" alt="port-5005" class="alignright size-full wp-image-5501"></a></p>

<p>That&#8217;s it. We can now set breakpoints and debug through our Maven process like through any other similar kind of server process. Of course, things work exactly the same way with IntelliJ or NetBeans.</p>

<p>Once you&#8217;re done debugging your Maven process, simply call the batch again with parameter&#160;<code>off</code>:</p>


<pre class="shell">C:\Users\jOOQ\workspace&gt;mvn_debug off

C:\Users\jOOQ\workspace&gt;mvn clean install
</pre>

<p>And your Maven builds will no longer be debugged.</p>

<p>Happy debugging!</p>	
	<p></p>

    </div>

<p class="info">
<h4>
Posted Sat 27 June 2015
 by <a class="url fn" href="http://www.ciandcd.com/author/itech001.html">itech001</a>
in <a href="http://www.ciandcd.com/category/devops.html">devops</a>
</h4></p>

</article>
</div>
<!-- /Content -->

<!-- Side bar -->
<nav class="col-lg-3">

<h2>分类</h2>
<ul class="nav nav-pills nav-stacked">
  <li ><a href="http://www.ciandcd.com/category/ciandcd.html">ciandcd</a></li>
  <li class="active"><a href="http://www.ciandcd.com/category/devops.html">devops</a></li>
  <li ><a href="http://www.ciandcd.com/category/scm.html">scm</a></li>
  <li ><a href="http://www.ciandcd.com/category/zhong-wen.html">中文</a></li>
</ul>

<ul class="tagcloud">
        <li class="tag-4"><a href="http://www.ciandcd.com/tag/linux.html">linux</a></li>
</ul>

<h2>链接</h2>
<ul class="nav nav-pills nav-stacked">
  <li><a href="http://www.cnblogs.com/itech/">itech</a></li>
</ul>

<h2>联系</h2>
<ul class="nav nav-pills nav-stacked">
  <li><a href="http://www.ciandcd.com/feeds/rss.xml" type="application/rss+xml" rel="alternate">Site Feed</a></li>
  <li><a href="https://github.com/ciandcd">Github</a></li>
</ul>

</nav>
<!-- /Side bar -->

</div>
<!-- /Main block -->

<!-- Footer -->
<div class="row"><div class="col-lg-12">
<footer><small>
Built using <a href="http://pelican.notmyidea.org/">Pelican</a> and
<a href="http://twitter.github.com/bootstrap">Bootstrap</a>.
</small></footer>
</div></div>
<!-- /Footer -->

</div></section>
<!-- /Body -->

<script src="http://www.ciandcd.com/theme/js/jquery.js"></script>
<script src="http://www.ciandcd.com/theme/js/bootstrap.js"></script>


</body>
</html>