<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>
    Bliki: MonolithFirst - ciandcd</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="http://www.ciandcd.com/theme/css/bootstrap.css" rel="stylesheet" type="text/css"/>
  <link href="http://www.ciandcd.com/theme/css/main.css" rel="stylesheet" type="text/css"/>
  <link href="http://www.ciandcd.com/theme/css/pygment.css" rel="stylesheet" type="text/css"/>
  <link href="http://fonts.googleapis.com/css?family=Chelsea+Market" rel="stylesheet" type="text/css"/>
<link href="http://www.ciandcd.com/feeds/rss.xml" rel="alternate" type="application/atom+xml" title="ciandcd RSS" />


  <!--[if lt IE 9]>
    <script src="https://raw.github.com/aFarkas/html5shiv/master/dist/html5shiv.js"></script>
  <![endif]-->
</head>

<!--
bootstrap-itech - a Pelican theme using Bootstrap
-->
<body>
<a href="https://github.com/ciandcd">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" />
</a>
<!-- Header -->
<header><div class="container">
<h1 class="page-header"><a href="http://www.ciandcd.com/index.html">ciandcd</a>
<h4>continuous integration and continuous delivery</h4></h1>
</div></header>
<!-- /Header -->

<!-- Body -->
<section id="body"><div class="container-fluid">

<!-- Nav bar -->
<div class="row"><div class="col-lg-12">
<nav class="navbar navbar-default"><div class="collapse navbar-collapse">
<ul class="nav navbar-nav">
  <li><a href="http://www.ciandcd.com/index.html">Home</a></li>



</ul>
</div></nav>
</div></div>
<!-- /Nav bar -->

<!-- Main block -->
<div class="row">

<!-- Content -->
<div class="col-lg-9">
<article>
<h1>
    Bliki: MonolithFirst</h1>

<div> 

 

 

<p class="tagLabel">tags:</p>

<p class="clear"></p>

<p>As I hear stories about teams using a <a href="/articles/microservices.html">microservices architecture</a>, I've
    noticed a common pattern.</p>

<ol>
<li>Almost all the successful microservice stories have started with a
      monolith that got too big and was broken up</li>

<li>Almost all the cases where I've heard of a system that was built as a
      microservice system from scratch, it has ended up in serious trouble.</li>
</ol>

<p>This pattern has led many of my colleagues to argue that <b>you
    shouldn't start a new project with microservices, even if you're
    sure your application will be big enough to make it worthwhile.
    </b>.</p>
<img src="images/microservice-verdict/path.png">
<p>Microservices are a useful architecture, but even their advocates
  say that using them incurs a significant
  <a href="MicroservicePremium.html">MicroservicePremium</a>, which means they are only useful
  with more complex systems. This premium, essentially the cost of
  managing a suite of services, will slow down a team, favoring a
  monolith for simpler applications. This leads to a powerful argument
  for a monolith-first strategy, where you should build a new
  application as a monolith initially, even if you think it's likely
  that it will benefit from a microservices architecture later on.</p>

<p>The first reason for this is classic <a href="Yagni.html">Yagni</a>. When you begin a new
  application, how sure are you that it will be useful to your users?
  It may be hard to scale a poorly designed but successful software
  system, but that's still a better place to be than its inverse. As
  we're now recognizing, often the best way to find out if a software
  idea is useful is to build a simplistic version of it and see how
  well it works out. During this first phase you need to prioritize
  speed (and thus cycle time for feedback), so the premium of
  microservices is a drag you should do without.</p>

<p>The second issue with starting with microservices is that they
  only work well if you come up with good, stable boundaries between
  the services - which is essentially the task of drawing up the right
  set of <a href="BoundedContext.html">BoundedContexts</a>. Any refactoring of functionality
  between services is much harder than it is in a monolith. But even
  experienced architects working in familiar domains have great
  difficulty getting boundaries right at the beginning. By building a
  monolith first, you can figure out what the right boundaries are,
  before a microservices design brushes a layer of treacle over them.
  It also gives you time to develop the
  <a href="MicroservicePrerequisites.html">MicroservicePrerequisites</a> you need for finer-grained
  services. </p>

<p>I've heard different ways to execute a monolith-first strategy.
  The logical way is to design a monolith carefully,
  paying attention to modularity within the software, both at the API
  boundaries and how the data is stored. Do this well, and it's a
  relatively simple matter to make the shift to microservices. However
  I'd feel much more comfortable with this approach if I'd heard a
  decent number of stories where it worked out that way. <a href="#footnote-typical-monolith">[1]</a></p>

<p>A more common approach is to start with a monolith and gradually
  peel off microservices at the edges. Such an approach can leave a
  substantial monolith at the heart of the microservices
  architecture, but with most new development occurring in the
  microservices while the monolith is relatively quiescent. </p>

<p>Another common approach is to just replace the monolith entirely.
  Few people look at this as an approach to be proud of, yet there are
  advantages to building a monolith as a
  <a href="SacrificialArchitecture.html">SacrificialArchitecture</a>. Don't be afraid of building a
  monolith that you will discard, particularly if a monolith can get
  you to market quickly.</p>

<p>Another route I've run into is to start with just a couple of
  coarse-grained services, larger than those you expect to end up
  with. Use these coarse-grained services to get used to working with
  multiple services, while enjoying the fact that such coarse granularity
  reduces the amount of inter-service refactoring you have to do. Then
  as boundaries stabilize, break down into finer-grained services. <a href="#footnote-duolith">[2]</a></p>

<p>While the bulk of my contacts lean toward the monolith-first
  approach, it is <a href="/articles/dont-start-monolith.html">by no
  means unanimous</a>. The counter argument says that starting with
  microservices allows you to get used to the rhythm of developing in
  a microservice environment. It takes a lot, perhaps too much,
  discipline to build a monolith in a sufficiently modular way that it
  can be broken down into microservices easily. By starting with
  microservices you get everyone used to developing in separate small
  teams from the beginning, and having teams separated by service
  boundaries makes it much easier to scale up the development effort
  when you need to. This is especially viable for system replacements
  where you have a better chance of coming up with stable-enough
  boundaries early. Although the evidence is sparse, I feel that you
  shouldn't start with microservices unless you have reasonable
  experience of building a microservices system in the team.</p>

<p>I don't feel I have enough anecdotes yet to get a firm handle on
  how to decide whether to use a monolith-first strategy. These are
  early days in microservices, and there are relatively few anecdotes
  to learn from. So anybody's advice on these topics must be seen as
  tentative, however confidently they argue.</p>

<h2>Further Reading</h2>

<p>Sam Newman <a href="http://samnewman.io/blog/2015/04/07/microservices-for-greenfield/">describes a case study</a> of a team considering using
    microservices on a greenfield project.</p>
<p class="acknowledgements">
<h2>Acknowledgements</h2>

    I stole much of this thinking from my coleagues: James Lewis, Sam
    Newman, Thiyagu Palanisamy, and Evan Bottcher. Stefan Tilkov's
    comments on an earlier draft played a pivotal role in clarifying
    my thoughts. Chad Currie created the lovely glyphy
    dragons. Steven Lowe, Patrick Kua, Jean Robert D'amore, Chelsea
    Komlo, Ashok Subramanian, Dan Siwiec, Prasanna Pendse, Kief
    Morris, Chris Ford, and Florian Sellmayr discussed drafts on our
    internal mailing list.
  </p>

<p class="shares">Share: <a href="https://twitter.com/intent/tweet?url=http://martinfowler.com/bliki/MonolithFirst.html&amp;text=Bliki:%20MonolithFirst" title="Share on Twitter"><img src="/t_mini-a.png"></a><a href="https://facebook.com/sharer.php?u=http://martinfowler.com/bliki/MonolithFirst.html" title="Share on Facebook"><img src="/fb-icon-20.png"></a><a href="https://plus.google.com/share?url=http://martinfowler.com/bliki/MonolithFirst.html" title="Share on Google Plus"><img src="/gplus-16.png"></a></p>
</div>

<p class="info">
Posted Sun 21 June 2015
 by <a class="url fn" href="http://www.ciandcd.com/author/itech001.html">itech001</a>
in <a href="http://www.ciandcd.com/category/devops.html">devops</a>
</p>

</article>
</div>
<!-- /Content -->

<!-- Side bar -->
<nav class="col-lg-3">

<h2>Categories</h2>
<ul class="nav nav-pills nav-stacked">
  <li ><a href="http://www.ciandcd.com/category/ciandcd.html">ciandcd</a></li>
  <li class="active"><a href="http://www.ciandcd.com/category/devops.html">devops</a></li>
  <li ><a href="http://www.ciandcd.com/category/scm.html">scm</a></li>
  <li ><a href="http://www.ciandcd.com/category/zh.html">zh</a></li>
</ul>

<h2>Links</h2>
<ul class="nav nav-pills nav-stacked">
  <li><a href="http://getpelican.com/">Pelican</a></li>
  <li><a href="http://python.org/">Python.org</a></li>
  <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
</ul>

<h2>Social</h2>
<ul class="nav nav-pills nav-stacked">
  <li><a href="http://www.ciandcd.com/feeds/rss.xml" type="application/rss+xml" rel="alternate">Site Feed</a></li>

  <li><a href="https://github.com/ciandcd">GITHUB</a></li>
</ul>

</nav>
<!-- /Side bar -->

</div>
<!-- /Main block -->

<!-- Footer -->
<div class="row"><div class="col-lg-12">
<footer><small>
Built using <a href="http://pelican.notmyidea.org/">Pelican</a> and
<a href="http://twitter.github.com/bootstrap">Bootstrap</a>.
</small></footer>
</div></div>
<!-- /Footer -->

</div></section>
<!-- /Body -->

<script src="http://www.ciandcd.com/theme/js/jquery.js"></script>
<script src="http://www.ciandcd.com/theme/js/bootstrap.js"></script>


</body>
</html>